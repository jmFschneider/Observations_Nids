# ==============================================================================
# FICHIER DE CONFIGURATION - OBSERVATIONS NIDS
# ==============================================================================
# Copier ce fichier en .env et remplir les valeurs
# ATTENTION: Ne jamais commiter le fichier .env (contient des secrets)
# ==============================================================================

# ------------------------------------------------------------------------------
# DJANGO SETTINGS
# ------------------------------------------------------------------------------
# Clé secrète Django (générer avec: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())")
SECRET_KEY=your-secret-key-here-change-me

# Mode debug (False en production, True en développement)
DEBUG=False

# Hosts autorisés (format JSON recommandé pour Docker)
# IMPORTANT: Utiliser le format JSON avec Docker car les virgules du format CSV
# peuvent être mal interprétées lors du passage des variables d'environnement
# Format JSON: ALLOWED_HOSTS='["host1","host2","host3"]'
# Exemple: ALLOWED_HOSTS='["localhost","127.0.0.1","votre-domaine.com","www.votre-domaine.com"]'
ALLOWED_HOSTS='["localhost","127.0.0.1"]'

# Origines de confiance pour CSRF (obligatoire depuis Django 4.0+ derrière reverse proxy)
# IMPORTANT: Doit inclure le protocole (http:// ou https://) et le port si différent de 80/443
# Format JSON: CSRF_TRUSTED_ORIGINS='["http://localhost:8010","https://domaine.com"]'
# Laissez vide si vous n'utilisez pas de reverse proxy
CSRF_TRUSTED_ORIGINS='["http://localhost:8010"]'

# Email de l'administrateur
ADMIN_EMAIL=admin@example.com

# ------------------------------------------------------------------------------
# DATABASE SETTINGS (MariaDB)
# ------------------------------------------------------------------------------
# Pour Docker : DB_HOST=db, pour local : DB_HOST=localhost
DB_NAME=observations_nids
DB_USER=observations_user
DB_PASSWORD=change-me-strong-password
DB_HOST=localhost
DB_PORT=3306

# Mot de passe root de la base de données (pour Docker uniquement)
DB_ROOT_PASSWORD=change-me-root-password-very-strong

# ------------------------------------------------------------------------------
# DJANGO SUPERUSER (créé automatiquement au premier démarrage avec Docker)
# ------------------------------------------------------------------------------
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=change-me-admin-password

# ------------------------------------------------------------------------------
# GOOGLE API (pour OCR/Vision)
# ------------------------------------------------------------------------------
# Clé API Google (pour Google GenAI)
GOOGLE_API_KEY=your-google-api-key-here

# ------------------------------------------------------------------------------
# CONFIGURATION AVANCÉE
# ------------------------------------------------------------------------------
# Timezone
TZ=Europe/Paris

# Langue
LANGUAGE_CODE=fr-fr

# Session settings
USE_DEBUG_TOOLBAR=False
SESSION_COOKIE_AGE=3600
SESSION_EXPIRE_AT_BROWSER_CLOSE=True

# ------------------------------------------------------------------------------
# DOCUMENTATION MKDOCS
# ------------------------------------------------------------------------------
# Par défaut (DEBUG=True) : Le lien "Aide" redirige vers http://127.0.0.1:8001/ (serveur MkDocs)
# Pour tester le comportement production (fichiers statiques) en développement, décommentez :
# MKDOCS_USE_STATIC=True
#
# En production/pilote (DEBUG=False) : Les fichiers statiques sont utilisés automatiquement

# ------------------------------------------------------------------------------
# PATHS (optionnel - définis automatiquement si non spécifiés)
# ------------------------------------------------------------------------------
# Logging (défaut: project/observations/logs)
# DJANGO_LOG_DIR=/var/log/observations_nids

# Static/Media paths (défaut: project root)
# DJANGO_STATIC_ROOT=/var/www/html/Observations_Nids/static
# DJANGO_MEDIA_ROOT=/var/www/html/Observations_Nids/media

# ------------------------------------------------------------------------------
# EMAIL CONFIGURATION (Brevo SMTP)
# ------------------------------------------------------------------------------
# Configuration pour l'envoi d'emails via Brevo (ex-Sendinblue)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp-relay.brevo.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=votre-email-brevo@smtp-brevo.com
EMAIL_HOST_PASSWORD=votre-mot-de-passe-brevo
DEFAULT_FROM_EMAIL=contact@votre-domaine.fr
# ADMIN_EMAIL déjà défini plus haut

# ------------------------------------------------------------------------------
# ENVIRONNEMENT & VERSION
# ------------------------------------------------------------------------------
# Identifiant de l'environnement (dev, pilote, production)
ENVIRONMENT=pilote

# Version de l'application
VERSION=pilote-main

# ------------------------------------------------------------------------------
# DOCUMENTATION MKDOCS (pour version pilote/production)
# ------------------------------------------------------------------------------
# Forcer l'utilisation des fichiers statiques pour la documentation
MKDOCS_USE_STATIC=True

# ------------------------------------------------------------------------------
# SÉCURITÉ SSL/HTTPS (à activer après configuration SSL)
# ------------------------------------------------------------------------------
# ATTENTION: Activer ces options UNIQUEMENT après avoir configuré SSL/HTTPS
# Sinon vous ne pourrez plus accéder à l'application !

# Redirection automatique HTTP → HTTPS
SECURE_SSL_REDIRECT=False  # Mettre True après config SSL

# Cookies sécurisés (transmis uniquement via HTTPS)
SESSION_COOKIE_SECURE=False  # Mettre True après config SSL
CSRF_COOKIE_SECURE=False     # Mettre True après config SSL

# ------------------------------------------------------------------------------
# LOGGING
# ------------------------------------------------------------------------------
# Niveau de log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
